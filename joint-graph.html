<!--
    TODO keep a track of the number of nodes excluding cf and on the blocked mobilities when we add a link
-->

<!doctype html>
<html>
<head>
    <title>Graph</title>
    <!--from the web-->
    <script src='js/cytoscape.min.js'></script>
    <script src='js/math.js'></script>
    <script src='js/nerdamer-all.min.js'></script>
    <!--<script src='js/gausselimination.js'></script>-->
    <!-- from this project-->
    <script src='examples/helico.js'></script>
    <script src='js/find_cycles.js'></script>
    <script src='js/computecycles.js'></script>
    <script src='js/export.js'></script>
    <script src='js/component.js'></script>
    <script src='js/mech.js'></script>
    <script src='js/mechmath.js'></script>
    <script src='js/ui.js'></script>
    <link rel="stylesheet" type="text/css" href="css/cytoscape.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <meta charset="UTF-8">

</head>

<body>
    <div id="cy"></div>
    <div class="tab">
        <button class="tablinks" onclick="openTab(event, 'anode')">Sous-ensembles</button>
        <button class="tablinks" onclick="openTab(event, 'alink')">Liaisons</button>
        <button class="tablinks" onclick="openTab(event, 'edit')">Editer</button>
        <button class="tablinks" onclick="openTab(event, 'export')">Exporter</button>

    </div>
    <div id="alink" class="tabcontent"></div>
    <div id="anode" class="tabcontent"></div>
    <div id="edit" class="tabcontent"></div>
    <div id="export" class="tabcontent"></div>
    <script>
        var graph = []
        let cycles = []

        //helico 
        let I_to_replace = { 'I_alpha_J2_LA':"0", 'I_alpha_J1_LA':"0", "I_alpha_J3_LA":"0","I_alpha_J4_ROT":"0"} //I stands for unknown. if we find their value, they will be logged here
        //boitier
        //I_to_replace = { 'I_gamma_ARBRE_CARTER_LA1':"0", 'I_gamma_ARBRE_CARTER_LA2':"0", 'I_gamma_SAT_ARBRE_LA':'0','I_gamma_SAT_ARBRE_ROT':'0' } //c'est vrai ce mensonsonge ?
        //boitier
        //let I_to_replace = { 'I_gamma_ARBRE_CARTER_LA1':"0" }

        var cy = cy_create(document.getElementById('cy'))
        comp_sLink(document.getElementById('alink'),"sa1 sa2 name")
        comp_sNode(document.getElementById('anode'))
        edit_tab(document.getElementById('edit'), undefined)
        export_button(document.getElementById('export'))

        cy.on('tap', 'node', function(evt){
            var node = evt.target;
            openTab(event, 'edit')
            console.log( 'tapped ' + node.id() );
            edit_tab(document.getElementById('edit'), node.id())
        });
        cy.on('tap', 'edge', function(evt){
            var edge = evt.target;
            openTab(event, 'edit')
            console.log( 'tapped ' + edge.id() );
            edit_tab(document.getElementById('edit'), edge.id())
        });

        findCycles()
        reduce_equations()
        /*cy.pan({
        x: 100,
        y: 100
        });*/

        //console.log([5,0,10],[10,0,0], ["a","b","c"], ["u","v","w"]))
        //console.log(mechmath_babar([20,30,10],[10,20,0], ["a","b","c"], ["u","v","w"]))
        //findCycles()
        //write_eq_V2(/*edge*/)
    </script>
</body>
</html>
