<!DOCTYPE html>
<html lang="en">
  <head>
    <title>{Transmisson}</title>
      <meta charset="UTF-8">
      <link rel="stylesheet" href="css/sidebar.css">
      <link rel="stylesheet" type="text/css" href="css/style.css">
      <link rel="stylesheet" type="text/css" href="css/cuts.css">
      <link rel="stylesheet" type="text/css" href="css/table.css">

  </head>
  <body>
    <script src='js/lib/math.js'></script>
    <script src='js/lib/Chart.js'></script>
    <script src='js/sidebar.js'></script>
    <script src='js/graph/ui.js'></script>
    <script src='js/simple_math_tools.js'></script>
    <script src='js/transmission/transmission.js'></script>
    <script src='translation/translation.js'></script>    
    <script src='js/transmission/pulley.js'></script>    

    <!-- Help message & github-->
    <iframe id="help" src="htmlBricks/topBar.html?gitRepo=https://github.com/guillaume55/MecaWeb&download=https://guillaume55.github.io/MecaWeb/transmission.html&helpPage=help.html" height="50px" width="100%" frameborder="0"></iframe>
    <!-- SIDEBAR -->
    <div id="mySidebar" class="sidebar">
        <div id="sidebar-btn" onclick="toggleSidebar()">‚ò∞</div>
        <div id="sidebar-content"></div>
        <script>appendToSidebar("sidebar-content");</script>
    </div>

    <div id="main">
        <div class="tab">
            <button class="tablinks" onclick="openTab(event, 'screw')">{Screw/nut}</button>
            <button class="tablinks" onclick="openTab(event, 'pulley')">{Pulley/belt}</button>
            <button class="tablinks" onclick="openTab(event, 'stepper')">{Stepper motor}</button>
            <button class="tablinks" onclick="openTab(event, 'accel')">{Accel curves}</button>
            </div>
        <div id="screw" class="tabcontent">
            <div class="item section">
                <div class="section-title">{Torque and Force}</div>
                <div class="section-content">
                    
                    <label>{Screw pitch}</label>
                    <div class="input-unit">
                        <input id="screw-pitch" type="number" min="0" value="4"/><span>mm</span>
                    </div>
                
                    <label>{Efficiency}</label>
                    <div class="input-unit" style="min-width:100px;">
                        <input id="screw-efficiency" type="number" value="0.9" min="0" max="1"/><span>No unit</span>
                    </div>

                    <label>{Torque} {or Force}</label>
                    <div class="input-unit">
                        <input id="screw-torque" type="number" min="0" placeholder="Torque" onchange="computeForce()"/><span>N.m</span>
                    </div>
                    <input type="button" value="{Compute torque}" onclick="computeForce()" class="compute-button"/></br>
                
                    <div class="input-unit">
                        <input id="screw-force" type="number" min="0" placeholder="Force (N)" onchange="computeTorque()"/><span>N</span>
                    </div>
                    <input type="button" value="{Compute force}" onclick="computeTorque()" class="compute-button"/></br>
                    
                </div>
            </div>
            </br></br>
            <div class="item section">
                <div class="section-title">{Speed}</div>
                <div class="section-content">
                    <label>{Screw pitch}</label>
                    <div class="input-unit">
                        <input id="screw-pitch-speed" type="number" min="0" value="4"/><span>mm</span>
                    </div></br>
                
                    <label>{Speed} ({Rotative})</label>
                    <div class="input-unit">
                        <input id="screw-rpm" type="number" min="0" onchange="computeSpeed('rpm')" value="0"/><span>rpm</span>
                    </div></br>
                
                <!--<input type="button" onclick="computeSpeed()"/>-->
                    <div class="input-unit">
                        <input id="screw-rads" type="number" min="0" onchange="computeSpeed('rads')" value="0"/><span>rad/s</span>
                    </div>       </br> 
                
                    <label>{Speed} ({Linear})</label>
                    <div class="input-unit">
                        <input id="screw-mmmin" type="number" min="0" onchange="computeSpeed('mmmin')" value="0"/><span>mm/min</span>
                    </div></br>
                    
                    <div class="input-unit">
                        <input id="screw-mms" type="number" min="0" onchange="computeSpeed('mms')" value="0"/><span>mm/s</span>
                    </div>
                    

                </div>
            </div>
        </div>
        <div id="pulley" class="tabcontent">
            <div class="item section">
                <div class="section-title">{Belt length and ratio}</div>
                    <div style="display: flex; justify-content: center; flex-wrap: wrap;">
                        <div class="section-content">
                            <label>{Pulley 1 primitive diameter}</label>
                            <div class="input-unit">
                                <input id="pulleyLen_pulley1" type="number" min="0" value="40"/><span>mm</span>
                            </div><br>
                        
                            <label>{Pulley 2 primitive diameter}</label>
                            <div class="input-unit">
                                <input id="pulleyLen_pulley2" type="number" value="80" min="0"/><span>mm</span>
                            </div><br>

                            <label>{Distance between axis}</label>
                            <div class="input-unit">
                                <input id="pulleyLen_e" type="number" value="100" min="0"/><span>mm</span>
                            </div><br>

                            <input type="button" value="{Compute}" onclick="computeLengthBelt()" class="compute-button"/><br>

                            <table>
                                <tr><th>{Belt length} (1)</th><td id="pulleyLen_resLen"></td><td>mm</td></tr>
                                <tr><th>{Belt length (if crossed)}(2)</th><td id="pulleyLen_resLenCrossed"></td><td>mm</td></tr>
                                <tr><th>{Ratio}</th><td id="pulleyLen_resRatio"></td><td>√ò</td></tr>
                            </table>
                        </div>
                        <div style="display:flex; align-items:center; padding: 20px;"><img src="img/beltsMounting.png" style="max-width: 300px;width: 180px;"></div>
                    </div>
                    
                </div>
            </div>
        </div>
        <div id="stepper" class="tabcontent"></div>
        <div id="accel" class="tabcontent">
            <div class="item section">
                <div class="section-title">{Accel curve}</div>
                <div class="section-content">
                    <label>{Distance}</label>
                    <div class="input-unit">
                        <input id="curve_dist" type="number" min="0" value="50" onchange="speedCurve()"/><span>ùõø mm</span>
                    </div></br>

                    <label>{Initial speed}</label>
                    <div class="input-unit">
                        <input id="curve_speedInit" type="number"  min="0" onchange="speedCurve()" value="0"/><span>mm/s</span>
                    </div></br>

                    <label>{Final speed}</label>
                    <div class="input-unit">
                        <input id="curve_speedFinal" type="number" min="0" onchange="speedCurve()" value="50"/><span>mm/s</span>
                    </div></br>

                    <label>{Accel}</label>
                    <div class="input-unit">
                    <input id="curve_accel" type="number" min="0" onchange="speedCurve()" value="50"/><span>mm/s¬≤</span>
                    </div></br>

                    <input type="button" value="{Compute force}" onclick="speedCurve()" class="compute-button"/></br>
                    <!--Output-->
                    <div id="curve_div"></div>
                    <canvas id="curve_chart" style="width:100%;max-width:700px; max-height: 50vh;"></canvas>
                </div>
                <script></script>
            </div>
        </div>
    </div>
    <script>
        translate()
        speedCurve()
        document.getElementsByClassName('tablinks')[0].click()//open tab
    </script>

    
  </body>
</html>